# =============================================================================
# LVGL TOUCHSCREEN INTERFACE
# =============================================================================
# This file defines the graphical user interface (GUI) for the ESP32 touchscreen
# display. It creates buttons that control smart home devices through Home Assistant.
#
# HOW IT WORKS:
# - Each button sends a command to Home Assistant when pressed (on_press/on_click)
# - Buttons receive state updates from sensors defined in sensors.yaml
# - When a sensor changes, the button's appearance updates (checked/unchecked)
#
# KEY CONCEPTS:
# - "id:" is a unique name used to reference this element from other files
# - "entity_id:" refers to a device/entity in Home Assistant
# - "checkable: true" means the button shows on/off state visually
# - "$variable" values (like $button_width) are defined in template.yaml
# - Sensors in sensors.yaml watch Home Assistant and update button states
# =============================================================================

lvgl:
  buffer_size: 100%
  top_layer:
    widgets:
    
      # =========================================================================
      # TEMPERATURE DISPLAY (Top-left corner of screen)
      # =========================================================================
      # WHAT IT SHOWS:
      #   Displays two temperatures: "outdoor° / indoor°"
      #   Example: "15° / 22°" means 15°C outside, 22°C in the office
      #
      # WHERE THE DATA COMES FROM (defined in sensors.yaml):
      #   - Left number: sensor.outdoor_temperature (weather/outdoor sensor)
      #   - Right number: sensor.office_temperature (indoor room sensor)
      #
      # HOW IT UPDATES:
      #   When either temperature sensor changes in Home Assistant, the
      #   sensors.yaml file triggers an update to this label's text.
      # =========================================================================
      - label:
          text: "-° / -°"
          id: temperatures
          styles: roboto15_style
          align: top_left
          x: 8
          y: 4
          text_color: 0xFFFFFF

      # =========================================================================
      # CLOCK DISPLAY (Top-center of screen)
      # =========================================================================
      # WHAT IT SHOWS:
      #   Current time in 24-hour format (e.g., "14:30")
      #
      # WHERE THE DATA COMES FROM:
      #   The time component (configured in addon/time.yaml) syncs with
      #   Home Assistant's time and updates this label every minute.
      # =========================================================================
      - label:
          text: "--:--"
          id: display_time
          styles: roboto15_style
          align: top_mid
          x: 0
          y: 4
          text_align: center
          text_color: 0xFFFFFF
          
  pages:
    - id: main_page
      layout: 
        type: grid
        grid_columns: [fr(1), fr(1), fr(1)]
        grid_rows: [fr(1), fr(1), fr(1)]
      scrollbar_mode: "off"
      scroll_dir: "hor"
      width: 100%
      bg_color: Black
      bg_opa: cover
      pad_top: 34
      pad_bottom: 5
      pad_left: 5
      pad_right: 5
      
      widgets:
      
        # =========================================================================
        # BUTTON: Features Scene
        # =========================================================================
        # WHAT THIS BUTTON DOES:
        #   Activates the "Features" lighting scene - a preset that turns on
        #   LED strip accent lighting for a decorative effect.
        #
        # WHEN PRESSED:
        #   Calls Home Assistant service: switch.toggle
        #   Target: switch.office_features_stateful_scene
        #
        # HOW THE BUTTON KNOWS IF IT'S ACTIVE:
        #   sensors.yaml monitors: switch.office_features_stateful_scene
        #   When that sensor is ON, this button appears "checked" (highlighted)
        #   When that sensor is OFF, this button appears unchecked (dimmed)
        # =========================================================================
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: true
            id: light_living_room
            styles: control
            grid_cell_column_pos: 0
            grid_cell_row_pos: 0
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: light_living_room_icon                
                  text: $lightbulb
              - label:
                  align: bottom_left
                  id: light_living_room_label
                  text: "Lights"
            on_click:
              - homeassistant.service:
                  service: light.toggle
                  data:
                    entity_id: light.living_room_lights_all
